{% extends 'layout.html' %}
{% block style %}
<link rel="stylesheet" type="text/css" href="../static/css/subtitle-table.css">
{% endblock %}
{% block body %}
  {% if path == None %}
    <h1>자막 파일로 단어장 만들기</h1>
    <div>
      <form class="check_file" action="/upload_file" method=post enctype=multipart/form-data>
        <label for="file">자막 파일 업로드(srt파일만 가능): </label><br>
        <input id="file" type=file name=file accept=".srt" required multiple><br>
        <label>단어장 생성: </label><br>
        <input type=submit value="단어장 만들기">
      </form>
    </div>
  {% else %}
  <input type="text" id="file" size="50" placeholder="Write your subtitle file-name" autofocus>
    <p id="demo"></p>
      <table class="table-set">
        <thead>
        <tr>
          <th scope="cols">번호</th>
          <th scope="cols">단어</th>
          <th scope="cols">뜻</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        {% for word, meaning in word_meanings.items() %}
          <th class="loop-index">{{ loop.index }}</th>
          <th>{{ word }}</th>
          <td>{{ (' ').join(meaning) }}</td>
        </tr>
        {% endfor %}
        </tbody>
      </table>
    <button onclick="window.print()" class="print-button">Print</button>
  {% endif %}
{% endblock %}
